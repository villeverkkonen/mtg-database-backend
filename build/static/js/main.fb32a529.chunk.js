(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(47)},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),o=a(13),n=a.n(o),c=a(4),l=a.n(c),d=a(6),i=a(14),u=a(15),h=a(17),m=a(16),f=a(18),D=a(1),v=a(3),k=a.n(v),g="https://api.magicthegathering.io/v1",w={getAll:function(){return k.a.get(g+"/cards?contains=imageUrl&pageSize=5&random=true").then(function(e){return e.data})},getColor:function(e){return k.a.get(g+"/cards?contains=imageUrl&pageSize=5&random=true&colors="+e).then(function(e){return e.data})},getById:function(e){return k.a.get(g+"/cards/"+e).then(function(e){return e.data})},getBooster:function(e){return k.a.get(g+"/sets/"+e+"/booster").then(function(e){return e.data})},getSets:function(){return k.a.get(g+"/sets?name=Guilds of Ravnica|Core Set 2019|Dominaria|Rivals of Ixalan|Ixalan|Amonkhet|Hour of Devastation|alpha").then(function(e){return e.data})}},b={getAll:function(){return k.a.get("/api/decks").then(function(e){return e.data})},getById:function(e){return k.a.get("/api/decks/"+e).then(function(e){return e.data})},create:function(e,t){return k.a.post("/api/decks",e,t).then(function(e){return e.data})}},S=function(e){var t=e.card;return s.a.createElement("div",{className:"showCard"},s.a.createElement("img",{src:t.imageUrl,alt:"imageUrl"}),s.a.createElement("div",{className:"row showCardRow"},s.a.createElement("div",{className:"col-sm-4 title-cell showCardLeftColumn"},"Name:"),s.a.createElement("div",{className:"col-sm-8 data-cell showCardRightColumn"},t.name)),s.a.createElement("div",{className:"row showCardRow"},s.a.createElement("div",{className:"col-sm-4 title-cell showCardLeftColumn"},"Set:"),s.a.createElement("div",{className:"col-sm-8 data-cell showCardRightColumn"},t.setName)),s.a.createElement("div",{className:"row showCardRow"},s.a.createElement("div",{className:"col-sm-4 title-cell showCardLeftColumn"},"Rarity:"),s.a.createElement("div",{className:"col-sm-8 data-cell showCardRightColumn"},t.rarity)),s.a.createElement("div",{className:"row cardText"},s.a.createElement("div",{className:"col-sm-12 title-cell"},t.text)))},p=function(e){var t=e.cards,a=e.showCardForMobile,r=e.showImageOrCard,o=e.mouseOver,n=e.mouseOut,c=e.color,l=e.showLinkForId;return s.a.createElement("div",{className:"cardList"},s.a.createElement("ul",{className:"cardListUl list-group"},t.map(function(e,t){return e.id===l?s.a.createElement("li",{key:t,onClick:r(e.id,e.imageUrl),onMouseOver:o(e.imageUrl),onMouseOut:n,className:"cardListLi list-group-item",style:{color:c}},e.name,s.a.createElement("br",null),s.a.createElement("button",{onClick:a(e.id),className:"btn showLinkForIdButton"},"Show")):s.a.createElement("li",{key:t,onClick:r(e.id,e.imageUrl),onMouseOver:o(e.imageUrl),onMouseOut:n,className:"cardListLi list-group-item",style:{color:c}},e.name)})))},C=function(e){var t=e.getCardsWithColor,a=e.playDraft,r=e.showDraftDeck,o=e.sets,n=e.draftDeck,c=e.savedDecksAmount,l=e.showSavedDecks;return s.a.createElement("div",{className:"navBarElements"},s.a.createElement("button",{onClick:t("white"),className:"btn btn-default buttonWhite"},"White"),s.a.createElement("button",{onClick:t("blue"),className:"btn btn-default buttonBlue"},"Blue"),s.a.createElement("button",{onClick:t("black"),className:"btn btn-default buttonBlack"},"Black"),s.a.createElement("button",{onClick:t("red"),className:"btn btn-default buttonRed"},"Red"),s.a.createElement("button",{onClick:t("green"),className:"btn btn-default buttonGreen"},"Green"),s.a.createElement("select",{id:"draft-select",className:"form-control",onChange:a},s.a.createElement("option",{defaultValue:!0,hidden:!0},"Draft"),o.map(function(e,t){return s.a.createElement("option",{value:e.code,key:t},e.name)})),s.a.createElement("button",{onClick:l,className:"btn btn-secondary buttonDefaultBlackText"},"Saved Decks (",c,")"),n.length>0?s.a.createElement("button",{onClick:r,className:"btn btn-dark buttonDefaultBlackText"},"Drafted Deck (",n.length,")"):null)},I=function(e){var t=e.boosters,a=e.addCardToDeck,r=e.boosterIndex,o=e.showDraftingInfo,n=e.toggleDraftingInfo;return s.a.createElement("div",{className:"draftCardList"},s.a.createElement("div",{className:"draftingInfo"},s.a.createElement("button",{onClick:n,className:"btn btn-default buttonDraftingInfo"},"Info"),o?s.a.createElement("div",{className:"draftingInfoText"},s.a.createElement("p",null,"You and 7 computer players each have 3 boosters, each containing 15 cards."),s.a.createElement("p",null,"Everybody opens the first booster and picks one card (computers by random)."),s.a.createElement("p",null,"After picking a card, you pass your booster with 14 cards and get a 14 card booster from other player and so on..."),s.a.createElement("p",null,"When all 15 cards are picked, each player opens a new booster and repeat the previous process."),s.a.createElement("p",null,"After drafting all 3 boosters you should have a 45 card deck which you can save to the database.")):null),t[r].map(function(e,t){return s.a.createElement("img",{src:e.imageUrl,alt:"imageUrl",key:t,className:"draftCardImage cardImage",onClick:a(e,r,t)})}))},E=function(e){var t=e.draftDeck,a=e.cardsLeft,r=e.getBackToDrafting,o=e.saveDeck,n=e.deckIsSaved,c=e.toggleShowSaveDeckForm,l=e.showSavedDeckForm,d=e.changeSavedDeckName,i=e.savedDeckName,u=e.showDeckHasBeenSavedText;return t.sort(function(e,t){var a="";if(e.colors){for(var r=0;r<e.colors.length;r++)a+=e.colors[r];a+=e.cmc}var s="";if(t.colors){for(var o=0;o<t.colors.length;o++)s+=t.colors[o];s+=t.cmc}return a<s?-1:a>s?1:0}),s.a.createElement("div",{className:"draftDeck"},s.a.createElement("div",{className:"savedDeckNameDiv"},u?s.a.createElement("p",{className:"goldenParagraph"},"Deck ",i," has been saved!"):null),a?s.a.createElement("button",{onClick:r,className:"btn btn-default buttonDefaultPurpleText"},"Back to drafting"):s.a.createElement("div",{className:"saveDeckDiv"},n?null:s.a.createElement("button",{onClick:c,className:"btn btn-default buttonDefaultPurpleText"},"Save Deck"),l?s.a.createElement("div",{className:"saveDeckForm"},s.a.createElement("input",{onChange:d,placeholder:"Deck Name",type:"text",id:"changeSavedDeckNameInput",autoFocus:!0}),s.a.createElement("button",{onClick:o(t,i),className:"btn btn-default saveDeckButton buttonDefaultBlackText"},"Save")):null),s.a.createElement("h1",{id:"draftedDeckTitle"},"Drafted Deck"),t.map(function(e,t){return s.a.createElement("img",{src:e.imageUrl,alt:"imageUrl",key:t,className:"draftDeckCardImage cardImage"})}))},O=function(e){var t=e.savedDeck;return s.a.createElement("div",{className:"draftDeck"},s.a.createElement("h1",{className:"savedDeckName"},t.name),t.cards.map(function(e,t){return s.a.createElement("img",{src:e.imageUrl,alt:e.name,key:t,className:"savedDeckCardImage cardImage"})}))},N=function(e){var t=e.savedDecks,a=e.showSavedDeckById;return t.sort(function(e,t){return e.created_at>t.created_at?-1:e.created_at<t.created_at?1:0}),s.a.createElement("div",{className:"savedDecksList"},s.a.createElement("ul",{className:"savedDecksListUl list-group"},t.map(function(e){return s.a.createElement("li",{onClick:a(e.id),key:e.id,className:"savedDecksListLi list-group-item"},e.name)})))},y=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).getCardsWithColor=function(e){return function(t){t.preventDefault(),w.getColor(e).then(function(t){a.setState({cards:t.cards,showCard:null,mouseOver:!1,showDraftDeck:!1,showSavedDecks:!1,showSavedDeckForm:!1,hoverImageUrl:"",cardListColor:e,showLinkForId:"",savedDeckToShow:null})})}},a.playDraft=function(e){e.preventDefault();var t=document.getElementById("draft-select").value;a.setState({loadingDraft:!0,deckIsSaved:!1,boosters:[],draftSet:t}),document.getElementById("draft-select").value="Draft";for(var r=0;r<8;r++)w.getBooster(t).then(function(e){var t=[e.cards];a.setState({boosters:a.state.boosters.concat(t),loadingDraft:!1})});a.setState({cards:[],draftDeck:[],showCard:null,mouseOver:!1,showDraftDeck:!1,showSavedDecks:!1,showSavedDeckForm:!1,showDraftingInfo:!1,cardsLeft:!0,hoverImageUrl:"",cardListColor:"",showLinkForId:"",boosterIndex:0,draftRound:1,savedDeckToShow:null})},a.shuffleNewBoosters=function(e){a.setState({loadingDraft:!0,boosters:[],showDraftingInfo:!1});for(var t=0;t<8;t++)w.getBooster(a.state.draftSet).then(function(e){var t=[e.cards];a.setState({boosters:a.state.boosters.concat(t),cardsLeft:!0,loadingDraft:!1})});a.setState({cards:[],showCard:null,mouseOver:!1,hoverImageUrl:"",cardListColor:"",showLinkForId:"",boosterIndex:0,draftRound:e})},a.showImageOrCard=function(e,t){return function(r){r.preventDefault(),a.state.touchsupport?a.state.hoverImageUrl===t?a.setState({cards:[],mouseOver:!1,showDraftDeck:!1,showCard:null,cardListColor:"",showLinkForId:""}):a.setState({mouseOver:!0,showDraftDeck:!1,showSavedDecks:!1,hoverImageUrl:t,showCard:null,showLinkForId:e}):a.showCard(e)}},a.showCard=function(e){w.getById(e).then(function(e){a.setState({cards:[],showCard:e.card,mouseOver:!1,showDraftDeck:!1,showSavedDecks:!1,hoverImageUrl:"",showLinkForId:""})})},a.showCardForMobile=function(e){return function(t){t.preventDefault(),w.getById(e).then(function(e){a.setState({cards:[],showCard:e.card,mouseOver:!1,showDraftDeck:!1,showSavedDecks:!1,hoverImageUrl:"",showLinkForId:""})})}},a.mouseOver=function(e){return function(t){t.preventDefault(),a.state.touchsupport||a.setState({mouseOver:!0,hoverImageUrl:e})}},a.mouseOut=function(e){e.preventDefault(),a.state.touchsupport||a.setState({mouseOver:!1,hoverImageUrl:""})},a.addCardToDeck=function(e,t,r){return function(s){s.preventDefault();var o=a.state.boosterIndex;7===o?o=0:o+=1;var n=a.state.boosters;n.map(function(e,a){if(t===a)return e=e.filter(function(e,t){return t!==r}),n[a]=e;var s=Math.floor(Math.random()*Math.floor(e.length));return e=e.filter(function(e,t){return t!==s}),n[a]=e}),a.setState({draftDeck:a.state.draftDeck.concat(e),boosters:n,boosterIndex:o,showDraftingInfo:!1}),0===a.state.boosters[0].length&&a.state.draftRound<3?(a.setState({boosterIndex:0,cardsLeft:!1}),a.shuffleNewBoosters(a.state.draftRound+1)):0===a.state.boosters[0].length&&3===a.state.draftRound&&a.showDraftDeckWithoutEvent()}},a.showDraftDeck=function(e){e.preventDefault(),a.setState({cards:[],showCard:null,mouseOver:!1,showDraftDeck:!0,showSavedDeckForm:!1,hoverImageUrl:"",showLinkForId:"",cardListColor:"",showSavedDecks:!1,savedDeckToShow:null})},a.showDraftDeckWithoutEvent=function(){a.setState({cards:[],showCard:null,mouseOver:!1,showDraftDeck:!0,showSavedDeckForm:!1,hoverImageUrl:"",showLinkForId:"",cardListColor:"",showSavedDecks:!1,cardsLeft:!1})},a.getBackToDrafting=function(e){e.preventDefault(),a.setState({showDraftDeck:!1,showSavedDeckForm:!1})},a.toggleDraftingInfo=function(e){e.preventDefault(),a.state.showDraftingInfo?a.setState({showDraftingInfo:!1}):a.setState({showDraftingInfo:!0})},a.showSavedDecks=function(e){e.preventDefault(),a.setState({showSavedDecks:!0,cards:[],mouseOver:!1,showDraftDeck:!1,showSavedDeckForm:!1,loadingDraft:!1,showDraftingInfo:!1,showCard:null,hoverImageUrl:"",cardListColor:"",showLinkForId:"",savedDeckToShow:null})},a.showSavedDeckById=function(e){return function(t){t.preventDefault(),b.getById(e).then(function(e){a.setState({showSavedDecks:!1,showSavedDeckForm:!1,savedDeckToShow:e})})}},a.saveDeck=function(e,t){return function(){var r=Object(d.a)(l.a.mark(function r(s){var o;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s.preventDefault(),t){r.next=5;break}alert("Name your deck!"),r.next=11;break;case 5:return o={name:t,cards:e},r.next=8,b.create(o).then(function(e){a.setState({deckIsSaved:!0,savedDeckName:e.name,showSavedDeckForm:!1,showDeckHasBeenSavedText:!0})});case 8:return setTimeout(function(){a.setState({savedDeckName:null,showDeckHasBeenSavedText:!1})},3e3),r.next=11,b.getAll().then(function(e){a.setState({savedDecks:e,savedDecksAmount:e.length})});case 11:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}()},a.toggleShowSaveDeckForm=function(e){e.preventDefault(),!1===a.state.showSavedDeckForm?a.setState({showSavedDeckForm:!0}):a.setState({showSavedDeckForm:!1})},a.changeSavedDeckName=function(e){e.preventDefault(),a.setState({savedDeckName:e.target.value})},a.getCardsWithColor=a.getCardsWithColor.bind(Object(D.a)(Object(D.a)(a))),a.playDraft=a.playDraft.bind(Object(D.a)(Object(D.a)(a))),a.showImageOrCard=a.showImageOrCard.bind(Object(D.a)(Object(D.a)(a))),a.showCard=a.showCard.bind(Object(D.a)(Object(D.a)(a))),a.showCardForMobile=a.showCardForMobile.bind(Object(D.a)(Object(D.a)(a))),a.mouseOver=a.mouseOver.bind(Object(D.a)(Object(D.a)(a))),a.mouseOut=a.mouseOut.bind(Object(D.a)(Object(D.a)(a))),a.addCardToDeck=a.addCardToDeck.bind(Object(D.a)(Object(D.a)(a))),a.shuffleNewBoosters=a.shuffleNewBoosters.bind(Object(D.a)(Object(D.a)(a))),a.showDraftDeck=a.showDraftDeck.bind(Object(D.a)(Object(D.a)(a))),a.showDraftDeckWithoutEvent=a.showDraftDeckWithoutEvent.bind(Object(D.a)(Object(D.a)(a))),a.toggleDraftingInfo=a.toggleDraftingInfo.bind(Object(D.a)(Object(D.a)(a))),a.getBackToDrafting=a.getBackToDrafting.bind(Object(D.a)(Object(D.a)(a))),a.showSavedDecks=a.showSavedDecks.bind(Object(D.a)(Object(D.a)(a))),a.showSavedDeckById=a.showSavedDeckById.bind(Object(D.a)(Object(D.a)(a))),a.saveDeck=a.saveDeck.bind(Object(D.a)(Object(D.a)(a))),a.toggleShowSaveDeckForm=a.toggleShowSaveDeckForm.bind(Object(D.a)(Object(D.a)(a))),a.changeSavedDeckName=a.changeSavedDeckName.bind(Object(D.a)(Object(D.a)(a)));var r="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;return a.state={cards:[],boosters:[],draftDeck:[],savedDecks:[],sets:[],mouseOver:!1,showDraftDeck:!1,showSavedDecks:!1,loadingDraft:!1,showDraftingInfo:!1,showCard:null,showSavedDeckForm:!1,showDeckHasBeenSavedText:!1,savedDeckToShow:null,savedDeckName:null,deckIsSaved:!1,cardsLeft:!1,draftSet:"",hoverImageUrl:"",cardListColor:"",showLinkForId:"",boosterIndex:0,draftRound:0,savedDecksAmount:0,touchsupport:r},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark(function e(){var t,a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,w.getSets().then(function(e){e.sets.sort(function(e,t){return e.releaseDate>t.releaseDate?-1:e.releaseDate<t.releaseDate?1:0}).map(function(e){return e.booster?t.push(e):null}),t.sort(function(e,t){return e.releaseDate<t.releaseDate}),a.setState({sets:t})});case 3:return e.next=5,b.getAll().then(function(e){a.setState({savedDecks:e,savedDecksAmount:e.length})});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(C,{getCardsWithColor:this.getCardsWithColor,playDraft:this.playDraft,sets:this.state.sets,draftDeck:this.state.draftDeck,showDraftDeck:this.showDraftDeck,savedDecksAmount:this.state.savedDecks.length,showSavedDecks:this.showSavedDecks}),null!==this.state.savedDeckToShow?s.a.createElement(O,{savedDeck:this.state.savedDeckToShow}):null,this.state.showSavedDecks?s.a.createElement(N,{savedDecks:this.state.savedDecks,showSavedDeckById:this.showSavedDeckById}):null,this.state.loadingDraft?s.a.createElement("div",null,s.a.createElement("p",{id:"loadingDraftInfo"},"Loading...")):null,this.state.showDraftDeck?s.a.createElement(E,{draftDeck:this.state.draftDeck,cardsLeft:this.state.cardsLeft,getBackToDrafting:this.getBackToDrafting,saveDeck:this.saveDeck,deckIsSaved:this.state.deckIsSaved,toggleShowSaveDeckForm:this.toggleShowSaveDeckForm,showSavedDeckForm:this.state.showSavedDeckForm,changeSavedDeckName:this.changeSavedDeckName,savedDeckName:this.state.savedDeckName,showDeckHasBeenSavedText:this.state.showDeckHasBeenSavedText}):null,this.state.cards.length>0?s.a.createElement(p,{cards:this.state.cards,showCardForMobile:this.showCardForMobile,showImageOrCard:this.showImageOrCard,mouseOver:this.mouseOver,mouseOut:this.mouseOut,color:this.state.cardListColor,showLinkForId:this.state.showLinkForId}):null,!(this.state.boosters.length>0)||this.state.showDraftDeck||this.state.showSavedDecks||this.state.savedDeckToShow||0!==this.state.cards.length||this.state.showCard?null:s.a.createElement(I,{boosters:this.state.boosters,addCardToDeck:this.addCardToDeck,boosterIndex:this.state.boosterIndex,showDraftingInfo:this.state.showDraftingInfo,toggleDraftingInfo:this.toggleDraftingInfo}),null!==this.state.showCard?s.a.createElement(S,{card:this.state.showCard}):null,this.state.mouseOver?s.a.createElement("div",{className:"hoverImage"},s.a.createElement("img",{src:this.state.hoverImageUrl,alt:"imageUrl",className:"cardImage"})):null)}}]),t}(r.Component);a(45);n.a.render(s.a.createElement(y,null),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.fb32a529.chunk.js.map